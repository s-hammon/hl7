syntax = "proto3";

package standards.v23;

option go_package = "github.com/s-hammon/hl7/proto/standards/v23;v23";

import "standards/v23/control.proto";
import "standards/v23/administration.proto";
import "standards/v23/financial.proto";
import "standards/v23/order.proto";
import "standards/v23/observation.proto";

message PatientGroup {
  PID PID = 1;
  PD1 PD1 = 2;
  PatientVisitGroup visit = 3;
  repeated InsuranceGroup insurance = 4;
  GT1 GT1 = 5;
  repeated AL1 AL1 = 6;
}

message PatientVisitGroup {
  PV1 PV1 = 1;
  PV2 PV2 = 2;
}

message InsuranceGroup {
  IN1 IN1 = 1;
  IN2 IN2 = 2;
  IN3 IN3 = 3;
}

message OrderGroup {
  ORC ORC = 1; // @gotags: hl7:"ORC,required"
  OrderDetailGroup details = 2;
}

message OrderDetailGroup {
  // @gotags: hl7:"OBR,required"
  OBR OBR = 1;
  // @gotags: hl7:"NTE"
  repeated NTE NTE = 2;
  // @gotags: hl7:"DG1"
  repeated DG1 DG1 = 3;
  // @gotags: hl7:"group"
  repeated ObservationGroup observation_group = 4;
}

message ObservationGroup {
  // @gotags: hl7:"OBX,required"
  OBX OBX = 1;
  // @gotags: hl7:"NTE"
  repeated NTE NTE = 2;
}

message ResultGroup {
  PID PID = 1; // @gotags: hl7:"PID,required"
  PD1 PD1 = 2;
  repeated NTE NTE = 3;
  PatientVisitGroup visit = 4;
  repeated ObsOrderGroup order = 5; // @gotags: hl7:"group"
}

message ObsPatientGroup {
  PID PID = 1; // @gotags: hl7:"PID,required"
  PD1 PD1 = 2;
  repeated NTE NTE = 3;
  PatientVisitGroup visit = 4;
}

message ObsOrderGroup {
  // @gotags: hl7:"ORC,required"
  ORC ORC = 1;
  // @gotags: hl7:"OBR,required"
  OBR OBR = 2;
  repeated NTE NTE = 3;
  // @gotags: hl7:"group"
  repeated ObservationGroup observation = 4;
}
